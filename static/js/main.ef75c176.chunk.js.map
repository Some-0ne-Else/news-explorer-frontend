{"version":3,"sources":["images/logout.png","images/logout_theme_white.png","images/author_photo.jpg","images/facebook_logo.svg","images/github_logo.svg","images/not-found.svg","images/no-image.png","contexts/CurrentUser.js","components/Navigation/Navigation.js","components/Header/Header.js","components/SearchForm/SearchForm.js","components/About/About.js","components/Footer/Footer.js","utils/Constants.js","utils/MainApi.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/SearchResults/SearchResults.js","components/Preloader/Preloader.js","components/NoResults/NoResults.js","utils/NewsApi.js","components/Main/Main.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","components/PopupWithForm/PopupWithForm.js","components/Validation/Validation.js","components/PopupLogin/PopupLogin.js","components/PopupSignup/PopupSignup.js","components/InfoTooltip/InfoTooltip.js","components/MobileMenu/MobileMenu.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Navigation","isMobileMenu","handleMobileMenuClick","handleLogout","loginButtonHandler","currentUser","useContext","location","useLocation","navigationMenuLink","navigationMenuLinkActive","navigationMenuItem","navigationMenuButton","navigationMobileButton","exitImg","exitButtonImage","pathname","exitButtonImageThemeWhite","type","className","onClick","exact","to","activeClassName","alt","src","Header","headerLink","header","SearchForm","handleSearch","isSearchButtonBlocked","searchStringRef","useRef","onSubmit","e","preventDefault","current","placeholder","required","onChange","target","value","disabled","About","authorPhoto","Footer","href","rel","githubLogo","facebookLogo","today","Date","now","weekAgo","api","baseUrl","token","this","_baseUrl","_token","email","password","fetch","method","headers","authorization","body","JSON","stringify","then","result","json","catch","err","console","log","name","jwt","Authorization","ok","Promise","reject","status","keyword","title","text","date","source","link","image","id","NewsCard","updateSavedCards","savedArticles","lastSearchRequest","useState","isBookmarked","setIsBookmarked","savedId","setSavedId","isHovered","setIsHovered","isClicked","setIsClicked","changeDateFormat","dateString","day","getDate","monthName","getMonth","year","getFullYear","handleHover","useEffect","article","hasOwnProperty","data","find","_id","deleteArticle","localStorage","getItem","res","postArticle","onMouseEnter","onMouseLeave","NewsCardList","cards","map","card","index","description","publishedAt","urlToImage","url","key","SearchResults","resultsArray","currentIndex","loadMoreHandler","showLoadMore","setshowLoadMore","cardsToRender","slice","length","Preloader","NoResults","notFoundImage","newsApi","baseNewsUrl","apiKey","_baseNewsUrl","_apiKey","_today","_weekAgo","searchString","toISOString","Main","showSearchResults","setShowSearchResults","setLastSearchRequest","setResultsArray","setSavedArticles","setCurrentIndex","isLoading","setIsLoading","isNoResults","setIsNoResults","setisSearchButtonBlocked","parse","getArticles","searchRequest","search","articles","forEach","item","noImage","setItem","finally","SavedNewsHeader","resultArray","statArray","keyState","declArticles","n","textForms","n1","Math","abs","declOfNum","SavedNews","savedNewsArticles","setSavedNewsArticles","setKeyState","setStatArray","countWords","arr","resultArr","i","acc","el","j","counter","sort","a","b","PopupWithForm","onClose","isOpen","actionCaption","children","buttonName","buttonHandler","isValid","noValidate","useFormWithValidation","values","setValues","errors","setErrors","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","validationMessage","closest","checkValidity","PopupLogin","isLoginPopupOpen","registerButtonHandler","onLogin","loginFormValidation","actionError","setActionError","reset","signIn","checkToken","message","PopupSignup","isSignUpPopupOpen","handleSignUp","signupFormValidation","signUp","minLength","InfoTooltip","MobileMenu","mobileMenuContainer","mobileMenuTitle","mobileMenuCloseButton","mobileMenuLink","mobileMenuMenuButton","ProtectedRoute","Component","component","props","App","setCurrentUser","setIsLoginPopupOpen","setIsSignUpPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsMobileMenu","isMobileMenuOpen","setIsMobileMenuOpen","history","useHistory","document","querySelector","addEventListener","closePopupAtOverlayClick","checkSizeOfWindow","window","innerWidth","handleEscPress","evt","closeAnyPopup","handleLogin","removeItem","push","popupWithLogin","popupWithSignup","infoTooltipPopup","mobileMenu","removeEventListener","removeEventListeners","Provider","path","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.ef75c176.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAJFBMVEUAAAD///////////////////////////////////////////+0CY3pAAAAC3RSTlMA3yAQz++fYFBAMM5jkV0AAABYSURBVBjTYyAPlO7ejeBIgzgKUA5InCMMicMlnYDgMChuM0BwmKSdoRyw1BYDCEcQCER3O0M4u8FACEnZRgVMA6D6IRyoBJzDDrWTIRrk0AlQtxUCOeQDAJTKHWfi5/b0AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAJ1BMVEUAAAAZGiIYHCAQECAZGiEbHCIZGiIZGyAZGiEZGSAYGCAbICAaGyI+lpG7AAAADHRSTlMA3yAQz++fYN9QQDBn7O0SAAAAWElEQVQY02MgD5SeOYPgyIA4ClAOSJwzDInDLZOA4DAoHjNAcJhknKEcsNQRAwhHEAhEzzhDOGfAoAlJ2QkFTAOg+iEcqAScww61kyEG5NAFULcVAjnkAwAl7yAREnCRFgAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/author_photo.6a971bbd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/facebook_logo.5a290307.svg\";","module.exports = __webpack_public_path__ + \"static/media/github_logo.b710d332.svg\";","module.exports = __webpack_public_path__ + \"static/media/not-found.f3541c5b.svg\";","module.exports = __webpack_public_path__ + \"static/media/no-image.231c0f91.png\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport './Navigation.css';\nimport exitButtonImage from '../../images/logout.png';\nimport exitButtonImageThemeWhite from '../../images/logout_theme_white.png';\nimport { CurrentUserContext } from '../../contexts/CurrentUser';\n\nfunction Navigation({\n  isMobileMenu,\n  handleMobileMenuClick,\n  handleLogout,\n  loginButtonHandler,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const location = useLocation();\n  let navigationMenuLink = 'navigation__menu-link';\n  let navigationMenuLinkActive = 'navigation__menu-link_active';\n  let navigationMenuItem = 'navigation__menu-item';\n  let navigationMenuButton = 'navigation__menu-button';\n  let navigationMobileButton = 'navigation__mobile-button';\n\n  let exitImg = exitButtonImage;\n  if (location.pathname === '/saved-news') {\n    navigationMenuLink =\n      'navigation__menu-link navigation__menu-link_theme_white';\n    navigationMenuLinkActive =\n      'navigation__menu-link_active navigation__menu-link_active_theme_white';\n    navigationMenuItem =\n      'navigation__menu-item navigation__menu-item_theme_white';\n    navigationMenuButton =\n      'navigation__menu-button navigation__menu-button_theme_white';\n    navigationMobileButton =\n      'navigation__mobile-button navigation__mobile-button_theme_white';\n    exitImg = exitButtonImageThemeWhite;\n  }\n\n  if (isMobileMenu) {\n    return (\n      <button\n        type=\"button\"\n        className={navigationMobileButton}\n        onClick={handleMobileMenuClick}\n      ></button>\n    );\n  }\n  if (currentUser) {\n    return (\n      <nav className=\"navigation\">\n        <ul className=\"navigation__menu\">\n          <li className={navigationMenuItem}>\n            <NavLink\n              exact\n              to=\"/\"\n              className={navigationMenuLink}\n              activeClassName={navigationMenuLinkActive}\n            >\n              Главная\n            </NavLink>\n          </li>\n          <li className={navigationMenuItem}>\n            <NavLink\n              exact\n              to=\"/saved-news\"\n              className={navigationMenuLink}\n              activeClassName={navigationMenuLinkActive}\n            >\n              Сохраненные статьи\n            </NavLink>\n          </li>\n          <li className={navigationMenuItem}>\n            <button className={navigationMenuButton} onClick={handleLogout}>\n              {currentUser}\n              <img alt=\"Иконка выхода\" src={exitImg} />\n            </button>\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n\n  return (\n    <nav className=\"navigation\">\n      <ul className=\"navigation__menu\">\n        <li className={navigationMenuItem}>\n          <NavLink\n            exact\n            to=\"/\"\n            className={navigationMenuLink}\n            activeClassName={navigationMenuLinkActive}\n          >\n            Главная\n          </NavLink>\n        </li>\n        <li className={navigationMenuItem}>\n          <button onClick={loginButtonHandler} className={navigationMenuButton}>\n            Авторизоваться\n          </button>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport './Header.css';\nimport Navigation from '../Navigation/Navigation';\n\nfunction Header({\n  isMobileMenu,\n  handleMobileMenuClick,\n  loginButtonHandler,\n  handleLogout,\n}) {\n  const location = useLocation();\n  let headerLink = 'header__link';\n  let header = 'header';\n  if (location.pathname === '/saved-news') {\n    headerLink = 'header__link header__link_theme_white';\n    header = 'header header_theme_white';\n  }\n  return (\n    <section className={header}>\n      <div className=\"header__wrapper\">\n        <h1 className=\"header__title\">\n          <Link to=\"/\" className={headerLink}>\n            NewsExplorer\n          </Link>\n        </h1>\n        <Navigation\n          isMobileMenu={isMobileMenu}\n          handleMobileMenuClick={handleMobileMenuClick}\n          loginButtonHandler={loginButtonHandler}\n          handleLogout={handleLogout}\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './SearchForm.css';\n\nfunction SearchForm({ handleSearch, isSearchButtonBlocked }) {\n  const searchStringRef = React.useRef('');\n\n  function handleChange(e) {\n    searchStringRef.current = e.target.value;\n  }\n  function search(e) {\n    e.preventDefault();\n    handleSearch(searchStringRef.current);\n  }\n  return (\n    <form className=\"search__form\" onSubmit={search}>\n      <input\n        className=\"search__input\"\n        placeholder=\"Введите тему новости\"\n        required\n        onChange={handleChange}\n      ></input>\n\n      {isSearchButtonBlocked ? (\n        <button className=\"search__button\" type=\"submit\" disabled>\n          Идет поиск\n        </button>\n      ) : (\n        <button className=\"search__button\" type=\"submit\">\n          Искать\n        </button>\n      )}\n    </form>\n  );\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport './About.css';\nimport authorPhoto from '../../images/author_photo.jpg';\n\nfunction About() {\n  return (\n    <section className=\"about\">\n      <div className=\"about__wrapper\">\n        <img\n          className=\"about__photo\"\n          alt=\"Фотография автора\"\n          src={authorPhoto}\n        />\n        <div className=\"about__info\">\n          <h2 className=\"about__title\">Об авторе</h2>\n          <p className=\"about__text\">\n            Это блок с описанием автора проекта. Здесь следует указать, как вас\n            зовут, чем вы занимаетесь, какими технологиями разработки владеете.\n          </p>\n          <p className=\"about__text\">\n            Также можно рассказать о процессе обучения в Практикуме, чему вы тут\n            научились, и чем можете помочь потенциальным заказчикам.\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Footer.css';\nimport facebookLogo from '../../images/facebook_logo.svg';\nimport githubLogo from '../../images/github_logo.svg';\n\nfunction Footer() {\n  return (\n    <section className=\"footer\">\n      <p className=\"footer__copyright\">\n        © 2020 Some0neElse, Powered by News API\n      </p>\n      <div className=\"footer__wrapper\">\n        <nav className=\"footer__nav\">\n          <ul className=\"footer__menu\">\n            <li className=\"footer__menu-item\">\n              <Link to=\"/\" className=\"footer__menu-link\">\n                Главная\n              </Link>\n            </li>\n            <li className=\"footer__menu-item\">\n              <a\n                href=\"https://praktikum.yandex.ru\"\n                className=\"footer__menu-link\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                Яндекс.Практикум\n              </a>\n            </li>\n          </ul>\n        </nav>\n        <div className=\"footer__social-media\">\n          <a\n            className=\"footer__social-media-link\"\n            href=\"https://github.com/Some-0ne-Else\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <img\n              className=\"footer__link-image\"\n              alt=\"Github logo\"\n              src={githubLogo}\n            />\n          </a>\n          <a\n            className=\"footer__social-media-link\"\n            href=\"https://facebook.com\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <img\n              className=\"footer__link-image\"\n              alt=\"Facebook logo\"\n              src={facebookLogo}\n            ></img>\n          </a>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Footer;\n","//const baseUrl = 'http://localhost:3000';\n//const baseNewsUrl = 'https://newsapi.org/v2/everything?';\nconst baseUrl = 'https://api.some0neelse.tk';\nconst baseNewsUrl = 'https://nomoreparties.co/news/v2/everything?';\nconst apiKey = '469f082828dc4b53b782d7b9193e9cb9';\nconst utcRuOffset = 3 * 60 * 60 * 1000; // 3h * 60m * 60s * 1000ms\nconst sevenDaysBefore = 7 * 24 * 60 * 60 * 1000; // 7d * 24h * 60m * 60s *1000ms\nconst today = new Date(Date.now() + utcRuOffset);\nconst weekAgo = new Date(Date.now() - sevenDaysBefore + utcRuOffset);\nconst token = '';\nconst cardsPerStep = 3;\nexport { baseUrl, baseNewsUrl, apiKey, today, weekAgo, token, cardsPerStep };\n","import { baseUrl, token } from './Constants.js';\n\nclass Api {\n  constructor(baseUrl, token) {\n    this._baseUrl = baseUrl;\n    this._token = token;\n  }\n\n  signIn(email, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        password: `${password}`,\n        email: `${email}`,\n      }),\n    })\n      .then((result) => result.json())\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  signUp(email, password, name) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        password: `${password}`,\n        email: `${email}`,\n        name: `${name}`,\n      }),\n    })\n      .then((result) => result.json())\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  checkToken(jwt) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${jwt}`,\n      },\n    })\n      .then((result) => result.json())\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getArticles(jwt) {\n    return fetch(`${this._baseUrl}/articles`, {\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((result) => {\n        if (result.ok) {\n          return result.json();\n        } else {\n          return Promise.reject(`Ошибка: ${result.status}`);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  postArticle(jwt, keyword, title, text, date, source, link, image) {\n    return fetch(`${this._baseUrl}/articles`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        keyword: `${keyword}`,\n        title: `${title}`,\n        text: `${text}`,\n        date: `${date}`,\n        source: `${source}`,\n        link: `${link}`,\n        image: `${image}`,\n      }),\n    })\n      .then((result) => result.json())\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  deleteArticle(jwt, id) {\n    return fetch(`${this._baseUrl}/articles/${id}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json',\n      },\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n}\n\nconst api = new Api(baseUrl, token);\n\nexport default api;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport api from '../../utils/MainApi';\nimport './NewsCard.css';\nimport { CurrentUserContext } from '../../contexts/CurrentUser';\n\nfunction NewsCard({\n  id,\n  keyword,\n  title,\n  text,\n  date,\n  source,\n  link,\n  image,\n  updateSavedCards,\n  savedArticles,\n  lastSearchRequest,\n  loginButtonHandler,\n}) {\n  const [isBookmarked, setIsBookmarked] = React.useState(false);\n  const [savedId, setSavedId] = React.useState('');\n  const [isHovered, setIsHovered] = React.useState(false);\n  const [isClicked, setIsClicked] = React.useState(false);\n  const currentUser = React.useContext(CurrentUserContext);\n  const location = useLocation();\n\n  React.useEffect(() => {\n    // Marking searchCard with bookmars if we already saved thems\n    if (location.pathname === '/' && currentUser) {\n      let article;\n      if (savedArticles.hasOwnProperty('data')) {\n        article = savedArticles.data.find((article) => article.link === link);\n      }\n      if (article) {\n        setIsBookmarked(true);\n        setSavedId(article._id);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [savedArticles, link]);\n\n  function changeDateFormat(dateString) {\n    const date = new Date(dateString);\n    const monthNames = [\n      'января',\n      'февраля',\n      'марта',\n      'апреля',\n      'мая',\n      'июня',\n      'июля',\n      'августа',\n      'сентября',\n      'октября',\n      'ноября',\n      'декабря',\n    ];\n    const day = date.getDate();\n    const monthIndex = date.getMonth();\n    const monthName = monthNames[monthIndex];\n    const year = date.getFullYear();\n    return `${day} ${monthName} ${year}`;\n  }\n\n  function handleBookmarkButton() {\n    if (!isBookmarked) {\n      api\n        .postArticle(\n          localStorage.getItem('jwt'),\n          lastSearchRequest,\n          title,\n          text,\n          date,\n          source,\n          link,\n          image,\n        )\n        .then((res) => {\n          if (res.data) {\n            setIsBookmarked(true);\n            setSavedId(res.data._id);\n          }\n        })\n        .catch((err) => console.log(err));\n    } else {\n      api\n        .deleteArticle(localStorage.getItem('jwt'), savedId)\n        .then((res) => {\n          setIsBookmarked(false);\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  function handleDeleteButton() {\n    api\n      .deleteArticle(localStorage.getItem('jwt'), id)\n      .then((res) => {\n        if (res.ok) {\n          updateSavedCards();\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleHover() {\n    setIsHovered(!isHovered);\n  }\n\n  function handlePreDelete() {\n    setIsClicked(!isClicked);\n  }\n\n  if (location.pathname === '/' && currentUser) {\n    return (\n      <div className=\"news-card\">\n        <div className=\"news-card__image-wrapper\">\n          <button\n            type=\"button\"\n            onClick={handleBookmarkButton}\n            className={\n              isBookmarked\n                ? 'news-card__bookmark-button news-card__bookmark-button_marked'\n                : 'news-card__bookmark-button'\n            }\n          ></button>\n          <a className=\"news-card__link\" href={link} target=\"__blank\">\n            <img className=\"news-card__image\" src={image} alt={title} />\n          </a>\n        </div>\n        <div className=\"news-card__description-wrapper\">\n          <p className=\"news-card__date\">{changeDateFormat(date)}</p>\n          <p className=\"news-card__title\">{title}</p>\n          <p className=\"news-card__text\">{text}</p>\n          <p className=\"news-card__source\">{source}</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (location.pathname === '/') {\n    return (\n      <div className=\"news-card\">\n        <div className=\"news-card__image-wrapper\">\n          <button\n            className={\n              isHovered\n                ? 'news-card__register-button news-card__register-button_active'\n                : 'news-card__register-button'\n            }\n          >\n            Войдите, чтобы сохранять статьи\n          </button>\n          <button\n            type=\"button\"\n            onMouseEnter={handleHover}\n            onMouseLeave={handleHover}\n            onClick={loginButtonHandler}\n            className={\n              isBookmarked\n                ? 'news-card__bookmark-button news-card__bookmark-button_marked'\n                : 'news-card__bookmark-button'\n            }\n          ></button>\n          <a className=\"news-card__link\" href={link} target=\"__blank\">\n            <img className=\"news-card__image\" src={image} alt={title} />\n          </a>\n        </div>\n        <div className=\"news-card__description-wrapper\">\n          <p className=\"news-card__date\">{changeDateFormat(date)}</p>\n          <p className=\"news-card__title\">{title}</p>\n          <p className=\"news-card__text\">{text}</p>\n          <p className=\"news-card__source\">{source}</p>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"news-card\">\n      <div className=\"news-card__image-wrapper\">\n        <p className=\"news-card__keyword\">{keyword}</p>\n        <button\n          type=\"button\"\n          onClick={handleDeleteButton}\n          className={\n            isClicked\n              ? 'news-card__hover-button news-card__hover-button_active'\n              : 'news-card__hover-button'\n          }\n        >\n          Убрать из сохранённых\n        </button>\n        <button\n          type=\"button\"\n          onClick={handlePreDelete}\n          className=\"news-card__delete-button\"\n        ></button>\n        <a className=\"news-card__link\" href={link} target=\"__blank\">\n          <img className=\"news-card__image\" src={image} alt={title} />\n        </a>\n      </div>\n      <div className=\"news-card__description-wrapper\">\n        <p className=\"news-card__date\">{changeDateFormat(date)}</p>\n        <p className=\"news-card__title\">{title}</p>\n        <p className=\"news-card__text\">{text}</p>\n        <p className=\"news-card__source\">{source}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default NewsCard;\n","import React from 'react';\nimport './NewsCardList.css';\nimport NewsCard from '../NewsCard/NewsCard';\nimport { useLocation } from 'react-router-dom';\n\nfunction NewsCardList({\n  cards,\n  savedArticles,\n  lastSearchRequest,\n  updateSavedCards,\n  loginButtonHandler,\n}) {\n  const location = useLocation();\n  if (location.pathname === '/') {\n    return (\n      <section className=\"news-card-list\">\n        {cards.map((card, index) => (\n          <NewsCard\n            keyword={card.keyword}\n            title={card.title}\n            text={card.description}\n            date={card.publishedAt}\n            image={card.urlToImage}\n            source={card.source.name}\n            link={card.url}\n            key={index}\n            savedArticles={savedArticles}\n            lastSearchRequest={lastSearchRequest}\n            loginButtonHandler={loginButtonHandler}\n          />\n        ))}\n      </section>\n    );\n  }\n  return (\n    <section className=\"news-card-list\">\n      {cards.map((card) => (\n        <NewsCard\n          keyword={card.keyword}\n          title={card.title}\n          text={card.text}\n          date={card.date}\n          image={card.image}\n          link={card.link}\n          source={card.source}\n          key={card._id}\n          id={card._id}\n          updateSavedCards={updateSavedCards}\n        />\n      ))}\n    </section>\n  );\n}\n\nexport default NewsCardList;\n","import React from 'react';\nimport './SearchResults.css';\nimport NewsCardList from '../NewsCardList/NewsCardList';\n\nfunction SearchResults({\n  resultsArray,\n  savedArticles,\n  lastSearchRequest,\n  currentIndex,\n  loadMoreHandler,\n  loginButtonHandler,\n}) {\n  const [showLoadMore, setshowLoadMore] = React.useState(true);\n  const cardsToRender = resultsArray.slice(0, currentIndex);\n  React.useEffect(() => {\n    resultsArray.length <= currentIndex\n      ? setshowLoadMore(false)\n      : setshowLoadMore(true);\n  }, [currentIndex, resultsArray.length]);\n\n  return (\n    <section className=\"search-results\">\n      <h2 className=\"search-results__title\">Результаты поиска</h2>\n      <NewsCardList\n        cards={cardsToRender}\n        savedArticles={savedArticles}\n        lastSearchRequest={lastSearchRequest}\n        loginButtonHandler={loginButtonHandler}\n      />\n      {showLoadMore ? (\n        <button\n          type=\"button\"\n          onClick={loadMoreHandler}\n          className=\"search-results__load-more-button\"\n        >\n          Показать еще\n        </button>\n      ) : null}\n    </section>\n  );\n}\n\nexport default SearchResults;\n","import React from 'react';\nimport './Preloader.css';\n\nfunction Preloader() {\n  return (\n    <section className=\"preloader\">\n      <i className=\"preloader__circle\"></i>\n      <p className=\"preloader__caption\">Идет поиск новостей...</p>\n    </section>\n  );\n}\n\nexport default Preloader;\n","import React from 'react';\nimport './NoResults.css';\nimport notFoundImage from '../../images/not-found.svg';\n\nfunction NoResults() {\n  return (\n    <section className=\"no-results\">\n      <img\n        className=\"no-results__image\"\n        src={notFoundImage}\n        alt=\"Ничего не найдено\"\n      />\n      <h2 className=\"no-results__title\">Ничего не найдено</h2>\n      <p className=\"no-results__text\">\n        К сожалению по вашему запросу ничего не найдено.\n      </p>\n    </section>\n  );\n}\nexport default NoResults;\n","import { baseNewsUrl, apiKey, today, weekAgo } from './Constants';\n\nclass NewsApi {\n  constructor(baseNewsUrl, apiKey) {\n    this._baseNewsUrl = baseNewsUrl;\n    this._apiKey = apiKey;\n    this._today = today;\n    this._weekAgo = weekAgo;\n  }\n  search(searchString) {\n    return fetch(\n      `${\n        this._baseNewsUrl\n      }q=${searchString}&from=${this._weekAgo.toISOString()}&to=${this._today.toISOString()}&sortBy=popularity&pageSize=100&apiKey=${\n        this._apiKey\n      }`,\n      {\n        method: 'GET',\n      },\n    )\n      .then((result) => result.json())\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n\nconst newsApi = new NewsApi(baseNewsUrl, apiKey);\n\nexport default newsApi;\n","import React from 'react';\nimport './Main.css';\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport About from '../About/About';\nimport Footer from '../Footer/Footer';\nimport SearchResults from '../SearchResults/SearchResults';\nimport Preloader from '../Preloader/Preloader';\nimport NoResults from '../NoResults/NoResults';\nimport newsApi from '../../utils/NewsApi';\nimport api from '../../utils/MainApi';\nimport noImage from '../../images/no-image.png';\nimport { cardsPerStep } from '../../utils/Constants';\nimport { CurrentUserContext } from '../../contexts/CurrentUser';\n\nfunction Main({\n  isMobileMenu,\n  handleMobileMenuClick,\n  loginButtonHandler,\n  handleLogout,\n  showSearchResults,\n  setShowSearchResults,\n  lastSearchRequest,\n  setLastSearchRequest,\n}) {\n  const [resultsArray, setResultsArray] = React.useState([]);\n  const [savedArticles, setSavedArticles] = React.useState([]);\n  const [currentIndex, setCurrentIndex] = React.useState(3);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isNoResults, setIsNoResults] = React.useState(false);\n  const [isSearchButtonBlocked, setisSearchButtonBlocked] = React.useState(\n    false,\n  );\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser) {\n      if (localStorage.getItem('searchResult')) {\n        setResultsArray(JSON.parse(localStorage.getItem('searchResult')));\n        setShowSearchResults(true);\n      }\n    }\n  }, [currentUser, setShowSearchResults]);\n\n  React.useEffect(() => {\n    setLastSearchRequest(localStorage.getItem('lastSearchRequest'));\n    if (currentUser) {\n      api.getArticles(localStorage.getItem('jwt')).then((res) => {\n        setSavedArticles(res);\n      });\n    }\n  }, [currentUser, setLastSearchRequest]);\n\n  function fixAbsentData(searchArray) {\n    searchArray.forEach((item) => {\n      if (item.urlToImage === null) {\n        item.urlToImage = noImage;\n      }\n    });\n  }\n\n  function handleSearch(searchRequest) {\n    setisSearchButtonBlocked(true);\n    setShowSearchResults(false);\n    setIsNoResults(false);\n    setIsLoading(true);\n    setLastSearchRequest(searchRequest);\n    newsApi\n      .search(searchRequest)\n      .then((res) => {\n        if (res) {\n          if (res.articles.length > 0 && res.status === 'ok') {\n            fixAbsentData(res.articles);\n            localStorage.setItem('searchResult', JSON.stringify(res.articles));\n            localStorage.setItem('lastSearchRequest', searchRequest);\n            setResultsArray(res.articles);\n            setShowSearchResults(true);\n          } else {\n            setIsNoResults(true);\n          }\n        } else console.log('Ошибка при получении данных');\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setisSearchButtonBlocked(false);\n      });\n  }\n\n  function loadMore() {\n    setCurrentIndex(currentIndex + cardsPerStep);\n  }\n\n  return (\n    <section className=\"main\">\n      <Header\n        isMobileMenu={isMobileMenu}\n        handleMobileMenuClick={handleMobileMenuClick}\n        loginButtonHandler={loginButtonHandler}\n        handleLogout={handleLogout}\n      />\n      <div className=\"main__wrapper\">\n        <h2 className=\"main__title\">Что творится в мире?</h2>\n        <p className=\"main__subtitle\">\n          Находите самые свежие статьи на любую тему и сохраняйте в своём личном\n          кабинете.\n        </p>\n        <SearchForm\n          handleSearch={handleSearch}\n          isSearchButtonBlocked={isSearchButtonBlocked}\n        />\n      </div>\n      {isLoading ? <Preloader /> : null}\n      {isNoResults ? <NoResults /> : null}\n      {showSearchResults ? (\n        <SearchResults\n          resultsArray={resultsArray}\n          savedArticles={savedArticles}\n          lastSearchRequest={lastSearchRequest}\n          currentIndex={currentIndex}\n          loadMoreHandler={loadMore}\n          loginButtonHandler={loginButtonHandler}\n        />\n      ) : null}\n      <About />\n      <Footer />\n    </section>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUser';\nimport './SavedNewsHeader.css';\n\nfunction SavedNewsHeader({ resultArray, statArray, keyState }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function declOfNum(n, textForms) {\n    n = Math.abs(n) % 100;\n    const n1 = n % 10;\n    if (n > 10 && n < 20) {\n      return textForms[2];\n    }\n    if (n1 > 1 && n1 < 5) {\n      return textForms[1];\n    }\n    if (n1 === 1) {\n      return textForms[0];\n    }\n    return textForms[2];\n  }\n  const textForms = [\n    'сохраненная статья',\n    'сохраненные статьи',\n    'сохраненных статей',\n  ];\n  const declArticles = declOfNum(resultArray.length, textForms);\n\n  if (statArray.length <= 3 && resultArray.length !== 0) {\n    return (\n      <section className=\"saved-news-header\">\n        <h2 className=\"saved-news-header__title\">Сохранённые статьи</h2>\n        <p className=\"saved-news-header__greeting\">\n          {currentUser}, у вас {resultArray.length} {declArticles}\n        </p>\n        <p className=\"saved-news-header__keywords\">\n          По ключевым словам:&nbsp;\n          {keyState}\n        </p>\n      </section>\n    );\n  }\n  if (resultArray.length === 0) {\n    return (\n      <section className=\"saved-news-header\">\n        <h2 className=\"saved-news-header__title\">Сохранённые статьи</h2>\n        <p className=\"saved-news-header__greeting\">\n          {currentUser}, у вас нет {declArticles}\n        </p>\n      </section>\n    );\n  }\n  return (\n    <section className=\"saved-news-header\">\n      <h2 className=\"saved-news-header__title\">Сохранённые статьи</h2>\n      <p className=\"saved-news-header__greeting\">\n        {currentUser}, у вас {resultArray.length} {declArticles}\n      </p>\n      <p className=\"saved-news-header__keywords\">\n        По ключевым словам:{' '}\n        <span className=\"saved-news-header__keywords-span\">\n          {statArray[0].keyword}, {statArray[1].keyword}\n        </span>\n        &nbsp;и&nbsp;\n        <span className=\"saved-news-header__keywords-span\">\n          {statArray.length - 2}-м другим\n        </span>\n      </p>\n    </section>\n  );\n}\n\nexport default SavedNewsHeader;\n","import React from 'react';\nimport './SavedNews.css';\nimport Header from '../Header/Header';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport Footer from '../Footer/Footer';\nimport api from '../../utils/MainApi';\n\nfunction SavedNews({ isMobileMenu, handleMobileMenuClick, handleLogout }) {\n  const [savedNewsArticles, setSavedNewsArticles] = React.useState([]);\n  const [keyState, setKeyState] = React.useState('');\n  const [statArray, setStatArray] = React.useState([]);\n\n  React.useEffect(() => {\n    setKeyState(\n      statArray.map((item, index) => (\n        <span key={index} className=\"saved-news-header__keywords-span\">\n          {' '}\n          {item.keyword}\n        </span>\n      )),\n    );\n  }, [statArray]);\n\n  React.useEffect(() => {\n    api\n      .getArticles(localStorage.getItem('jwt'))\n      .then((res) => {\n        setSavedNewsArticles(res.data);\n        setStatArray(countWords(res.data));\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function updateSavedCards() {\n    api.getArticles(localStorage.getItem('jwt')).then((res) => {\n      setSavedNewsArticles(res.data);\n      setStatArray(countWords(res.data));\n    });\n  }\n\n  function countWords(arr) {\n    let resultArr = [];\n    let index = -1;\n    for (let i = 0; i < arr.length; i++) {\n      let acc = 0;\n      if (resultArr.find((el) => el.keyword === arr[i].keyword)) {\n        continue;\n      } // if keyword already checked, then skiping it\n      for (let j = 0; j < arr.length; j++) {\n        if (arr[i].keyword === arr[j].keyword) acc++;\n        if (j === arr.length - 1) {\n          index += 1;\n        }\n      }\n      resultArr[index] = { keyword: arr[i].keyword, counter: acc };\n    }\n    resultArr.sort(function (a, b) {\n      return b.counter - a.counter;\n    });\n    return resultArr;\n  }\n\n  return (\n    <section className=\"saved-news\">\n      <Header\n        isMobileMenu={isMobileMenu}\n        handleMobileMenuClick={handleMobileMenuClick}\n        handleLogout={handleLogout}\n      />\n      <SavedNewsHeader\n        resultArray={savedNewsArticles}\n        statArray={statArray}\n        keyState={keyState}\n      />\n      <NewsCardList\n        cards={savedNewsArticles}\n        setSavedNewsArticles={setSavedNewsArticles}\n        setStatArray={setStatArray}\n        statArray={statArray}\n        savedArticles={savedNewsArticles}\n        updateSavedCards={updateSavedCards}\n      />\n      <Footer />\n    </section>\n  );\n}\n\nexport default SavedNews;\n","import React from 'react';\nimport './PopupWithForm.css';\n\nfunction PopupWithForm({\n  name,\n  title,\n  onClose,\n  onSubmit,\n  isOpen,\n  actionCaption,\n  children,\n  buttonName,\n  buttonHandler,\n  isValid,\n}) {\n  return (\n    <section className={`popup popup_${name} ${isOpen && 'popup_opened'}`}>\n      <form\n        className={`popup__form popup__form_${name}`}\n        onSubmit={onSubmit}\n        noValidate\n      >\n        <h2 className=\"popup__heading\">{title}</h2>\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        {children}\n        {isValid ? (\n          <button\n            type=\"submit\"\n            className={`popup__action-button popup__action-button_${name}`}\n          >\n            {actionCaption}\n          </button>\n        ) : (\n          <button\n            disabled\n            type=\"submit\"\n            className={`popup__action-button popup__action-button_${name}`}\n          >\n            {actionCaption}\n          </button>\n        )}\n\n        <p className=\"popup__option\">\n          или\n          <button\n            type=\"button\"\n            onClick={buttonHandler}\n            className=\"popup__versa-button\"\n          >\n            {buttonName}\n          </button>\n        </p>\n      </form>\n    </section>\n  );\n}\nexport default PopupWithForm;\n","import React, { useCallback } from 'react';\n\nexport function useForm() {\n  const [values, setValues] = React.useState({});\n\n  const handleChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setValues({ ...values, [name]: value });\n  };\n\n  return { values, handleChange, setValues };\n}\n\nexport function useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (event) => {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid],\n  );\n\n  return { values, handleChange, errors, isValid, resetForm };\n}\n","import React from 'react';\nimport './PopupLogin.css';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport api from '../../utils/MainApi';\nimport { useFormWithValidation } from '../Validation/Validation';\n\nfunction PopupLogin({\n  isLoginPopupOpen,\n  registerButtonHandler,\n  onClose,\n  onLogin,\n}) {\n  const loginFormValidation = useFormWithValidation();\n  const [actionError, setActionError] = React.useState('');\n\n  function submitHandler(e) {\n    e.preventDefault();\n    api\n      .signIn(\n        loginFormValidation.values.email,\n        loginFormValidation.values.password,\n      )\n      .then((res) => {\n        if (res) {\n          if (res.token) {\n            localStorage.setItem('jwt', res.token);\n            api\n              .checkToken(res.token)\n              .then((res) => {\n                onLogin(res.data.name);\n                loginFormValidation.resetForm();\n                e.target.closest('form').reset();\n              })\n              .catch((err) => console.log(err));\n          } else setActionError(res.message);\n        } else {\n          setActionError('Произошла ошибка. Попробуйте еще раз.');\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function closePopup(e) {\n    e.target.closest('form').reset();\n    loginFormValidation.resetForm(e);\n    setActionError('');\n    onClose();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"login\"\n      title=\"Вход\"\n      actionCaption=\"Войти\"\n      isOpen={isLoginPopupOpen}\n      buttonName=\"Зарегистрироваться\"\n      buttonHandler={registerButtonHandler}\n      onClose={closePopup}\n      onSubmit={submitHandler}\n      isValid={loginFormValidation.isValid}\n    >\n      <p className=\"popup__caption\">Email</p>\n      <input\n        type=\"email\"\n        className=\"popup__input\"\n        name=\"email\"\n        id=\"email\"\n        placeholder=\"Введите почту\"\n        required\n        onChange={loginFormValidation.handleChange}\n      />\n      <p className=\"popup__input-error\" name=\"email-error\">\n        {loginFormValidation.errors.email}\n      </p>\n      <p className=\"popup__caption\">Пароль</p>\n      <input\n        type=\"password\"\n        className=\"popup__input\"\n        name=\"password\"\n        id=\"password\"\n        placeholder=\"Введите пароль\"\n        required\n        onChange={loginFormValidation.handleChange}\n      />\n      <p className=\"popup__input-error\" name=\"password-error\">\n        {loginFormValidation.errors.password}\n      </p>\n      <p className=\"popup__action-error\" name=\"action-error\">\n        {actionError}\n      </p>\n    </PopupWithForm>\n  );\n}\n\nexport default PopupLogin;\n","import React from 'react';\nimport './PopupSignup.css';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport api from '../../utils/MainApi';\nimport { useFormWithValidation } from '../Validation/Validation';\n\nfunction PopupSignup({\n  isSignUpPopupOpen,\n  loginButtonHandler,\n  onClose,\n  handleSignUp,\n}) {\n  const signupFormValidation = useFormWithValidation();\n  const [actionError, setActionError] = React.useState('');\n\n  function submitHandler(e) {\n    e.preventDefault();\n    api\n      .signUp(\n        signupFormValidation.values.email,\n        signupFormValidation.values.password,\n        signupFormValidation.values.name,\n      )\n      .then((res) => {\n        if (res.email) {\n          handleSignUp();\n          e.target.closest('form').reset();\n          signupFormValidation.resetForm(e);\n        } else {\n          setActionError(res.message);\n        }\n      });\n  }\n\n  function closePopup(e) {\n    e.target.closest('form').reset();\n    signupFormValidation.resetForm(e);\n    setActionError('');\n    onClose();\n  }\n  return (\n    <PopupWithForm\n      name=\"sign-up\"\n      title=\"Регистрация\"\n      actionCaption=\"Зарегистрироваться\"\n      isOpen={isSignUpPopupOpen}\n      buttonName=\"Войти\"\n      buttonHandler={loginButtonHandler}\n      onClose={closePopup}\n      onSubmit={submitHandler}\n      isValid={signupFormValidation.isValid}\n    >\n      <p className=\"popup__caption\">Email</p>\n      <input\n        type=\"email\"\n        className=\"popup__input\"\n        name=\"email\"\n        placeholder=\"Введите почту\"\n        required\n        onChange={signupFormValidation.handleChange}\n      />\n      <p className=\"popup__input-error\" name=\"email-error\">\n        {signupFormValidation.errors.email}\n      </p>\n      <p className=\"popup__caption\">Пароль</p>\n      <input\n        type=\"password\"\n        className=\"popup__input\"\n        name=\"password\"\n        placeholder=\"Введите пароль\"\n        required\n        onChange={signupFormValidation.handleChange}\n      />\n      <p className=\"popup__input-error\" name=\"password-error\">\n        {signupFormValidation.errors.password}{' '}\n      </p>\n      <p className=\"popup__caption\">Имя</p>\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        name=\"name\"\n        placeholder=\"Введите своё имя\"\n        minLength=\"2\"\n        required\n        onChange={signupFormValidation.handleChange}\n      />\n      <p className=\"popup__input-error\" name=\"name-error\">\n        {signupFormValidation.errors.name}{' '}\n      </p>\n      <p className=\"popup__action-error\" name=\"action-error\">\n        {actionError}\n      </p>\n    </PopupWithForm>\n  );\n}\n\nexport default PopupSignup;\n","import React from 'react';\nimport './InfoTooltip.css';\n\nfunction InfoTooltip({ isOpen, onLogin, onClose }) {\n  return (\n    <section className={`info-tooltip ${isOpen && 'info-tooltip_opened'}`}>\n      <div className=\"info-tooltip__container\">\n        <h2 className=\"info-tooltip__message\">\n          Пользователь успешно зарегистрирован!\n        </h2>\n        <button\n          type=\"button\"\n          onClick={onLogin}\n          className=\"info-tooltip__login-button\"\n        >\n          Войти\n        </button>\n        <button\n          type=\"button\"\n          className=\"info-tooltip__close-button\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </section>\n  );\n}\nexport default InfoTooltip;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './MobileMenu.css';\nimport exitButtonImage from '../../images/logout.png';\nimport exitButtonImageThemeWhite from '../../images/logout_theme_white.png';\nimport { CurrentUserContext } from '../../contexts/CurrentUser';\nimport { useLocation } from 'react-router-dom';\n\nfunction MobileMenu({ isOpen, handleLogout, loginButtonHandler, onClose }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const location = useLocation();\n\n  let mobileMenuContainer = 'mobile-menu__container';\n  let mobileMenuTitle = 'mobile-menu__title';\n  let mobileMenuCloseButton = 'mobile-menu__close-button';\n  let mobileMenuLink = 'mobile-menu__link';\n  let mobileMenuMenuButton = 'mobile-menu__menu-button';\n  let exitImg = exitButtonImage;\n\n  if (location.pathname === '/saved-news') {\n    mobileMenuContainer =\n      'mobile-menu__container mobile-menu__container_theme_white';\n    mobileMenuTitle = 'mobile-menu__title mobile-menu__title_theme_white';\n    mobileMenuCloseButton =\n      'mobile-menu__close-button mobile-menu__close-button_theme_white';\n    mobileMenuLink = 'mobile-menu__link mobile-menu__link_theme_white';\n    mobileMenuMenuButton =\n      'mobile-menu__menu-button mobile-menu__menu-button_theme_white';\n\n    exitImg = exitButtonImageThemeWhite;\n  }\n  if (currentUser) {\n    return (\n      <section className={`mobile-menu ${isOpen && 'mobile-menu_opened'}`}>\n        <div className={mobileMenuContainer}>\n          <div className=\"mobile-menu__header-wrapper\">\n            <Link className={mobileMenuTitle} to=\"/\" onClick={onClose}>\n              NewsExplorer\n            </Link>\n            <button\n              type=\"button\"\n              className={mobileMenuCloseButton}\n              onClick={onClose}\n            ></button>\n          </div>\n\n          <nav className=\"mobile-menu__navigation\">\n            <ul className=\"mobile-menu__menu\">\n              <li className=\"mobile-menu__menu-item\">\n                <Link to=\"/\" onClick={onClose} className={mobileMenuLink}>\n                  Главная\n                </Link>\n              </li>\n              <li className=\"mobile-menu__menu-item\">\n                <Link\n                  to=\"/saved-news\"\n                  onClick={onClose}\n                  className={mobileMenuLink}\n                >\n                  Сохраненные статьи\n                </Link>\n              </li>\n            </ul>\n            <button\n              type=\"button\"\n              className={mobileMenuMenuButton}\n              onClick={handleLogout}\n            >\n              {currentUser}\n              <img alt=\"Иконка выхода\" src={exitImg} />\n            </button>\n          </nav>\n        </div>\n      </section>\n    );\n  }\n  return (\n    <section className={`mobile-menu ${isOpen && 'mobile-menu_opened'}`}>\n      <div className={mobileMenuContainer}>\n        <div className=\"mobile-menu__header-wrapper\">\n          <Link className={mobileMenuTitle} to=\"/\" onClick={onClose}>\n            NewsExplorer\n          </Link>\n          <button\n            type=\"button\"\n            className={mobileMenuCloseButton}\n            onClick={onClose}\n          ></button>\n        </div>\n\n        <nav className=\"mobile-menu__navigation\">\n          <ul className=\"mobile-menu__menu\">\n            <li className=\"mobile-menu__menu-item\">\n              <Link to=\"/\" onClick={onClose} className={mobileMenuLink}>\n                Главная\n              </Link>\n            </li>\n          </ul>\n          <button\n            type=\"button\"\n            className={mobileMenuMenuButton}\n            onClick={loginButtonHandler}\n          >\n            Авторизоваться\n          </button>\n        </nav>\n      </div>\n    </section>\n  );\n}\nexport default MobileMenu;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.currentUser ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useCallback } from 'react';\nimport './App.css';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUser';\nimport Main from '../Main/Main';\nimport SavedNews from '../SavedNews/SavedNews';\nimport PopupLogin from '../PopupLogin/PopupLogin';\nimport PopupSignup from '../PopupSignup/PopupSignup';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport MobileMenu from '../MobileMenu/MobileMenu';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport api from '../../utils/MainApi';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [isLoginPopupOpen, setIsLoginPopupOpen] = React.useState(false);\n  const [isSignUpPopupOpen, setIsSignUpPopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [isMobileMenu, setIsMobileMenu] = React.useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = React.useState(false);\n  const [showSearchResults, setShowSearchResults] = React.useState(false);\n  const [lastSearchRequest, setLastSearchRequest] = React.useState('');\n  const history = useHistory();\n\n  React.useEffect(() => {\n    function checkSizeOfWindow() {\n      if (window.innerWidth <= 510) {\n        setIsMobileMenu(true);\n      } else {\n        setIsMobileMenu(false);\n      }\n    }\n    checkSizeOfWindow();\n    window.addEventListener('resize', checkSizeOfWindow);\n  }, [isMobileMenu]);\n\n  function handleMobileMenuClick() {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n    const mobileMenu = document.querySelector('.mobile-menu');\n    mobileMenu.addEventListener('click', closePopupAtOverlayClick);\n  }\n  const handleEscPress = useCallback((evt) => {\n    if (evt.key === 'Escape') {\n      closeAnyPopup();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    document.addEventListener('keyup', handleEscPress, false);\n    return () => {\n      document.removeEventListener('keyup', handleEscPress, false);\n    };\n  }, [handleEscPress]);\n\n  function closePopupAtOverlayClick(evt) {\n    if (this === evt.target) {\n      closeAnyPopup();\n    }\n  }\n\n  React.useEffect(() => {\n    if (localStorage.getItem('jwt')) {\n      api.checkToken(localStorage.getItem('jwt')).then((res) => {\n        handleLogin(res.data.name);\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function loginButtonHandler() {\n    closeAnyPopup();\n    setIsLoginPopupOpen(true);\n    const popupWithLogin = document.querySelector('.popup_login');\n    popupWithLogin.addEventListener('mousedown', closePopupAtOverlayClick);\n  }\n\n  function registerButtonHandler() {\n    closeAnyPopup();\n    setIsSignUpPopupOpen(true);\n    const popupWithSignup = document.querySelector('.popup_sign-up');\n    popupWithSignup.addEventListener('mousedown', closePopupAtOverlayClick);\n  }\n\n  function openInfoTooltip() {\n    setIsInfoTooltipOpen(true);\n    const infoTooltipPopup = document.querySelector('.info-tooltip');\n    infoTooltipPopup.addEventListener('mousedown', closePopupAtOverlayClick);\n  }\n\n  function handleLogin(name) {\n    setCurrentUser(name);\n    closeAnyPopup();\n  }\n\n  function handleSignUp() {\n    setIsSignUpPopupOpen(false);\n    openInfoTooltip();\n  }\n\n  function handleLogout() {\n    setCurrentUser('');\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('searchResult');\n    localStorage.removeItem('lastSearchRequest');\n    setShowSearchResults(false);\n    history.push('/');\n  }\n\n  function closeAnyPopup() {\n    setIsLoginPopupOpen(false);\n    setIsSignUpPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setIsMobileMenuOpen(false);\n    removeEventListeners();\n  }\n\n  function removeEventListeners() {\n    const popupWithLogin = document.querySelector('.popup_login');\n    const popupWithSignup = document.querySelector('.popup_sign-up');\n    const infoTooltipPopup = document.querySelector('.info-tooltip');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    popupWithLogin.removeEventListener('click', closePopupAtOverlayClick);\n    popupWithSignup.removeEventListener('click', closePopupAtOverlayClick);\n    infoTooltipPopup.removeEventListener('click', closePopupAtOverlayClick);\n    mobileMenu.removeEventListener('click', closePopupAtOverlayClick);\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"app\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Main\n              isMobileMenu={isMobileMenu}\n              handleMobileMenuClick={handleMobileMenuClick}\n              loginButtonHandler={loginButtonHandler}\n              handleLogout={handleLogout}\n              showSearchResults={showSearchResults}\n              setShowSearchResults={setShowSearchResults}\n              lastSearchRequest={lastSearchRequest}\n              setLastSearchRequest={setLastSearchRequest}\n            />\n          </Route>\n          <ProtectedRoute\n            path=\"/saved-news\"\n            currentUser={currentUser}\n            isMobileMenu={isMobileMenu}\n            handleMobileMenuClick={handleMobileMenuClick}\n            handleLogout={handleLogout}\n            component={SavedNews}\n          />\n        </Switch>\n        <PopupLogin\n          isLoginPopupOpen={isLoginPopupOpen}\n          registerButtonHandler={registerButtonHandler}\n          onClose={closeAnyPopup}\n          onLogin={handleLogin}\n        />\n        <PopupSignup\n          isSignUpPopupOpen={isSignUpPopupOpen}\n          loginButtonHandler={loginButtonHandler}\n          onClose={closeAnyPopup}\n          handleSignUp={handleSignUp}\n        />\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAnyPopup}\n          onLogin={loginButtonHandler}\n        />\n        <MobileMenu\n          isOpen={isMobileMenuOpen}\n          handleLogout={handleLogout}\n          onClose={closeAnyPopup}\n          loginButtonHandler={loginButtonHandler}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}